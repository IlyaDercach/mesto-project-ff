(()=>{"use strict";var e,t,n,o,r,c,u,p=document.querySelector(".places__list"),i=function(){return document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0)},a=function(e,t,n,o,r){var c=t.name,u=t.link,p=e(),i=p.querySelector(".card__image"),a=p.querySelector(".card__title"),d=p.querySelector(".card__delete-button"),s=p.querySelector(".card__like-button");return i.src=u,i.alt=c,a.textContent=c,n(d,p),o(s),r(i,i,a.textContent),p},d=function(e,t){e.addEventListener("click",(function(n){n.target.classList.contains("card__delete-button")&&n.target===e&&t.remove()}))},s=function(e){e.addEventListener("click",(function(t){t.target===e&&t.target.classList.contains("card__like-button")&&t.target.classList.toggle("card__like-button_is-active")}))},l=function(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",m)},_=function(e){e.classList.contains("popup_is-opened")&&(e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",m))},m=function(e){var t=document.querySelector(".popup_is-opened");"Escape"===e.key&&_(t)},y=document.querySelector(".profile__edit-button"),f=document.querySelector(".profile__add-button"),v=document.querySelector(".popup_type_edit"),k=document.querySelector(".popup_type_new-card"),q=document.querySelectorAll(".popup"),S=function(e,t,n){var o=document.querySelector(".popup_type_image"),r=o.querySelector(".popup__image"),c=o.querySelector(".popup__caption");e.addEventListener("click",(function(){l(o),r.src=t.src,r.alt=n,c.textContent=n}))};[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){!function(e,t){p.append(a(i,e,d,s,t))}(e,S)})),function(e){e.forEach((function(e){e.classList.add("popup_is-animated"),e.querySelector(".popup__close").addEventListener("click",(function(){return _(e)})),e.addEventListener("click",(function(t){return function(e,t,n){e.target===t&&n()}(t,e,(function(){return _(e)}))}))}))}(q),e=v,t=y,n=function(e,t,n,o){document.querySelector('form[name="edit-profile"]').addEventListener("submit",(function(r){r.preventDefault();var c=e.value,u=t.value;n.textContent=c,o.textContent=u,_(v)}))},o=document.querySelector(".popup__input_type_name"),r=document.querySelector(".popup__input_type_description"),c=document.querySelector(".profile__title"),u=document.querySelector(".profile__description"),t.addEventListener("click",(function(){o&&r&&c&&u&&(o.value=c.textContent,r.value=u.textContent),l(e)})),n(o,r,c,u),function(e,t){t.addEventListener("click",(function(){return l(e)})),function(){var e=document.querySelector('form[name="new-place"]'),t=document.querySelector(".popup__input_type_card-name"),n=document.querySelector(".popup__input_type_url");e.addEventListener("submit",(function(o){o.preventDefault();var r={name:t.value,link:n.value};e.reset(),function(e,t){p.prepend(a(i,e,d,s,t))}(r,S),_(k)}))}()}(k,f)})();